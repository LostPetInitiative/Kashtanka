FROM mcr.microsoft.com/dotnet/core/aspnet:3.1
COPY publish /publish
WORKDIR /publish

ENV SOLR_URL=http://solr.default
ENV COLLECTION_NAME=kashtankacards
ENV MAX_RETURN_COUNT=100
ENV LONG_TERM_SEARCH_RADIUS_KM=20.0
ENV SHORT_TERM_SEARCH_RADIUS_KM=1000.0
ENV SHORT_TERM_LENGTH_DAYS=30
ENV REVERSE_TIME_GAP_LENGTH_DAYS=14
ENV SIMILARITY_THRESHOLD=0.95

EXPOSE 80

CMD [ "./SolrAPI" ]
